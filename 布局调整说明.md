# 📐 布局调整说明

## 问题
错别字检查模块和存储状态监控模块在右下角重叠

## 解决方案

### 调整后的布局（从下到上）

```
┌─────────────────────────────────────┐
│                                     │
│                                     │
│      ┌──────────────────────┐       │
│      │ 错误列表（展开时）    │ 160px   │
│      └──────────────────────┘       │
│                                     │
│      ┌──────────────────────┐       │
│      │ 错别字统计/开关       │ 110px   │
│      └──────────────────────┘       │
│                                     │
│      ┌──────────────────────┐       │
│      │ 存储状态监控          │ 60px    │
│      └──────────────────────┘       │
│                                     │
│                              20px → │
└─────────────────────────────────────┘
```

### 具体位置

| 组件 | bottom 值 | z-index | 说明 |
|------|-----------|---------|------|
| 存储状态监控（简化） | 60px | 1000 | 最底层 |
| 存储状态监控（详细） | 60px | 1000 | 点击后展开 |
| 错别字开关 | 110px | 99 | 关闭时显示 |
| 错别字统计面板 | 110px | 100 | 开启时显示 |
| 错别字列表 | 160px | 101 | 点击"查看"展开 |

### 间距说明

- **底部留空**: 20px
- **存储监控高度**: ~40px
- **到错别字组件**: 50px
- **错别字组件高度**: ~40px
- **到错误列表**: 50px

### 修改的文件

1. **`src/styles/spell-checker.css`**
   ```css
   .spell-check-panel {
     bottom: 110px;  /* 原来是 60px */
   }
   
   .spell-errors-list {
     bottom: 160px;  /* 原来是 110px */
   }
   
   .spell-check-toggle {
     bottom: 110px;  /* 原来是 20px */
   }
   ```

2. **`src/components/StorageStatusMonitor.tsx`**
   ```tsx
   // 简化状态指示器
   style={{ bottom: '60px' }}  // 原来是 20px
   
   // 详细状态面板
   style={{ bottom: '60px' }}  // 原来是 20px
   ```

### 视觉效果

**之前（重叠）：**
```
存储监控 ─┐
         ├─ 重叠！
错别字检查 ┘
```

**之后（分离）：**
```
错别字检查 ←─── 110px
    ↑ 50px间距
存储监控 ←─── 60px
    ↑ 40px留空
底部 ←─── 20px
```

### 不同状态下的布局

**状态1：错别字检查关闭**
```
存储监控（60px）
    +50px
错别字开关（110px）
```

**状态2：错别字检查开启**
```
存储监控（60px）
    +50px
错别字统计（110px）
```

**状态3：查看错误列表**
```
存储监控（60px）
    +50px
错别字统计（110px）
    +50px
错误列表（160px）
```

**状态4：存储状态展开**
```
存储状态详情（60px，展开高度更大）
    +50px
错别字组件（110px）
```

### 响应式适配

移动端（屏幕宽度 < 768px）：
```css
@media (max-width: 768px) {
  .spell-check-panel,
  .spell-errors-list,
  .spell-check-toggle {
    right: 10px;  /* 减小右侧间距 */
  }
}
```

小屏高度（屏幕高度 < 600px）：
- 压缩组件间距
- 减小错误列表高度
- 优化展示内容

### 测试清单

- [ ] 打开编辑器
- [ ] 查看右下角存储状态（应在底部偏上）
- [ ] 开启错别字检查（应在存储状态上方）
- [ ] 点击"查看"错误（列表应在统计面板上方）
- [ ] 确认各组件不重叠
- [ ] 确认点击区域准确
- [ ] 测试移动端响应式

---

**调整时间**: 2025-10-03  
**影响文件**: 
- `src/styles/spell-checker.css`
- `src/components/StorageStatusMonitor.tsx`
- `src/styles/layout-guide.md` (新增布局指南)

